window.evt={},function(e){var t=function(){function e(e){this.type=e}return e.COMPLETE="complete",e}();e.BaseEvent=t}(evt||(evt={})),function(e){var t=function(){function e(){this._eventsMap=null}return e.prototype.addEventListener=function(e,t,n){this._eventsMap||(this._eventsMap=new Object);var r=this._eventsMap[e];r||(r=this._eventsMap[e]=[]);for(var i={listener:t,thisObject:n},s=0;s<r.length;s++){var o=r[s];if(o.listener==t&&o.thisObject==n)return}r.push(i)},e.prototype.hasEventListener=function(e){return this._eventsMap&&null!=this._eventsMap[e]},e.prototype.rmEventListener=function(e,t,n){if(null!=this._eventsMap)for(var r=this._eventsMap[e],i=0;r&&i<r.length;i++){var s=r[i];if(s.listener==t&&s.thisObject==n)return void r.splice(i,1)}},e.prototype.rmEventListenerByName=function(e){if(null!=this._eventsMap){var t=this._eventsMap[e];t&&(t.length=0)}},e.prototype.rmEventListenerByTarget=function(e){if(null!=this._eventsMap)for(var t in this._eventsMap){var n=this._eventsMap[t];if(n)for(var r=0;n&&r<n.length;r++){if(n[r].thisObject==e)return void n.splice(r,1)}}},e.prototype.rmEventListenerByNameAndTarget=function(e,t){if(null!=this._eventsMap){var n=this._eventsMap[e];if(n)for(var r=0;n&&r<n.length;r++){if(n[r].thisObject==t)return void n.splice(r,1)}}},e.prototype.dispatchEvent=function(e){var t=this._eventsMap;if(!t)return!0;var n=t[e.type];if(!n)return!0;var r=n.length;if(0==r)return!0;e.target=this;for(var i=[].concat.apply([],n),s=0;s<r;s++){var o=i[s];o&&o.listener.call(o.thisObject,e)}},e}();e.EventDispatcher=t}(evt||(evt={})),function(e){var t=function(){function e(){this.processorMap=new Object}return e.prototype.getModuleName=function(){throw new Error("namespace必须复写命名")},e.prototype.listProcessors=function(){return null},e.prototype.onRegister=function(){},e.prototype.onResetonRegister=function(){},e.prototype.registerProcessors=function(){var e=this.listProcessors();if(null!=e&&e.length>0)for(var t=0;t<e.length;t++)this.registerProcessor(e[t])},e.prototype.registerProcessor=function(e){if(null!=this.processorMap[e.getName()])throw new Error("同一namespace不能注册两个相同的Processor");this.processorMap[e.getName()]=e,e.registerEvents()},e.registerModule=function(t){if(null!=e.namespaceMap[t.getModuleName()])throw new Error("不能注册两个相同的namespace："+t.getModuleName());e.namespaceMap[t.getModuleName()]=t,t.registerProcessors(),t.onRegister()},e.namespaceMap=new Object,e}();e.Module=t}(evt||(evt={})),function(e){var t=function(){function t(){}return t.addEvents=function(e,t,n){for(var r=0;r<e.length;r++)this._instance.addEventListener(e[r].type,t,n)},t.dispatchEvent=function(e,t){void 0===t&&(t=null),e.extParam=t,this._instance.dispatchEvent(e)},t.addEvent=function(e,t,n){this._instance.addEventListener(e,t,n)},t.rmEvent=function(e,t,n){this._instance.rmEventListener(e,t,n)},t.rmEventByName=function(e){this._instance.rmEventListenerByName(e)},t.rmEventByNameAndTarget=function(e,t){this._instance.rmEventListenerByNameAndTarget(e,t)},t.rmEventByTarget=function(e){this._instance.rmEventListenerByTarget(e)},t._instance=new e.EventDispatcher,t}();e.ModuleEventMgr=t}(evt||(evt={})),function(e){var t=function(){function t(){}return t.prototype.getName=function(){throw new Error("process必须复写命名")},t.prototype.receivedModuleEvent=function(e){},t.prototype.listenModuleEvents=function(){return null},t.prototype.registerEvents=function(){var t=this.listenModuleEvents();null!=t&&t.length>0&&e.ModuleEventMgr.addEvents(t,this.receivedModuleEvent,this)},t.prototype.getHanderMap=function(){return new Object},t}();e.Processor=t}(evt||(evt={}));